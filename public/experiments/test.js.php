<?php ob_start( 'ob_gzhandler' );?>
var XAuth=(function(){var j=window,p=!(j.postMessage&&j.localStorage&&j.JSON),b="xauth.org",k="http://"+b+"/server.html",h,a,o={},e=0,n=[];function q(s){var u=s.origin.split("://")[1].split(":")[0],t,r,v;if(u==b){t=JSON.parse(s.data);if(t){if(t.cmd=="xauth::ready"){a=h.contentWindow;setTimeout(g,0)}else{v=t.id;r=o[v];if(r){if(r.callback){r.callback(t)}delete o[v]}}}}}function f(){if(h||a){return}var r=j.document;h=r.createElement("iframe");h.style.cssText="position:absolute;left:-999px;top:-999px";if(j.addEventListener){j.addEventListener("message",q,false)}else{if(j.attachEvent){j.attachEvent("onmessage",q)}}r.body.appendChild(h);h.src=k}function g(){for(var r=0;r<n.length;r++){m(o[n.shift()])}}function m(r){a.postMessage(JSON.stringify(r),k)}function i(r){if(!p){r.id=e;o[e++]=r;if(!h||!a){n.push(r.id);f()}else{m(r)}}}function d(r){r=r||{};i({cmd:"xauth::retrieve",retrieve:r.retrieve||[],callback:r.callback||null})}function l(r){r=r||{};i({cmd:"xauth::extend",token:r.token||"",expire:r.expire||0,extend:r.extend||[],session:r.session||false,callback:r.callback||null})}function c(r){r=r||{};i({cmd:"xauth::expire",callback:r.callback||null})}return{extend:l,retrieve:d,expire:c,disabled:p}})();